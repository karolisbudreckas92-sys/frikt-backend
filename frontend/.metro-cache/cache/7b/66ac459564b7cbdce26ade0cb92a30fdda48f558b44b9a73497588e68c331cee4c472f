{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":87},"end":{"line":2,"column":34,"index":121}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./StaticContainer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":122},"end":{"line":3,"column":48,"index":170}}],"key":"cUqed8Z8W4AGaD1YUoy3XhHxTCI=","exportNames":["*"],"imports":1}},{"name":"./RootController","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":171},"end":{"line":4,"column":57,"index":228}}],"key":"Ayhyf8/iKmyM5WLM1IAYQE6xnXM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[2], \"@babel/runtime/helpers/callSuper\");\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[3], \"@babel/runtime/helpers/inherits\");\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _reactJsxRuntime = require(_dependencyMap[4], \"react/jsx-runtime\");\n  var _react = require(_dependencyMap[5], \"react\");\n  var _StaticContainer = require(_dependencyMap[6], \"./StaticContainer\");\n  var StaticContainer = _interopDefault(_StaticContainer);\n  var _RootController = require(_dependencyMap[7], \"./RootController\");\n  var _default = /*#__PURE__*/function (_Component) {\n    function _default(props) {\n      var _this;\n      (0, _classCallCheck.default)(this, _default);\n      _this = (0, _callSuper.default)(this, _default, [props]);\n      _this.updatedSiblings = new Set();\n      _this.siblingsPool = [];\n      _this.state = {\n        siblings: []\n      };\n      return _this;\n    }\n    (0, _inherits.default)(_default, _Component);\n    return (0, _createClass.default)(_default, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.props.controller.setCallback((id, change) => {\n          setTimeout(() => this.commitChange(id, change));\n        });\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        this.updatedSiblings.clear();\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return (0, _reactJsxRuntime.jsxs)(_reactJsxRuntime.Fragment, {\n          children: [this.props.children, this.renderSiblings()]\n        });\n      }\n    }, {\n      key: \"commitChange\",\n      value: function commitChange(id, _ref) {\n        var change = _ref.change,\n          element = _ref.element,\n          updateCallback = _ref.updateCallback;\n        var siblings = Array.from(this.siblingsPool);\n        var index = siblings.findIndex(sibling => sibling.id === id);\n        if (change === _RootController.RootControllerChanges.Remove) {\n          if (index > -1) {\n            siblings.splice(index, 1);\n          } else {\n            this.invokeCallback(updateCallback);\n            return;\n          }\n        } else if (change === _RootController.RootControllerChanges.Update) {\n          if (index > -1) {\n            siblings.splice(index, 1, {\n              element,\n              id\n            });\n            this.updatedSiblings.add(id);\n          } else {\n            this.invokeCallback(updateCallback);\n            return;\n          }\n        } else {\n          if (index > -1) {\n            siblings.splice(index, 1);\n          }\n          siblings.push({\n            element,\n            id\n          });\n          this.updatedSiblings.add(id);\n        }\n        this.siblingsPool = siblings;\n        this.setState({\n          siblings\n        }, () => this.invokeCallback(updateCallback));\n      }\n    }, {\n      key: \"invokeCallback\",\n      value: function invokeCallback(callback) {\n        if (callback) {\n          callback();\n        }\n      }\n    }, {\n      key: \"renderSiblings\",\n      value: function renderSiblings() {\n        return this.state.siblings.map(_ref2 => {\n          var id = _ref2.id,\n            element = _ref2.element;\n          return (0, _reactJsxRuntime.jsx)(StaticContainer.default, {\n            shouldUpdate: this.updatedSiblings.has(id),\n            children: this.wrapSibling(element)\n          }, `root-sibling-${id}`);\n        });\n      }\n    }, {\n      key: \"wrapSibling\",\n      value: function wrapSibling(element) {\n        var renderSibling = this.props.renderSibling;\n        if (renderSibling) {\n          return renderSibling(element);\n        } else {\n          return element;\n        }\n      }\n    }]);\n  }(_react.Component);\n});","lineCount":135,"map":[[26,2,1,0],[26,6,1,0,"_reactJsxRuntime"],[26,22,1,0],[26,25,1,0,"require"],[26,32,1,0],[26,33,1,0,"_dependencyMap"],[26,47,1,0],[27,2,2,0],[27,6,2,0,"_react"],[27,12,2,0],[27,15,2,0,"require"],[27,22,2,0],[27,23,2,0,"_dependencyMap"],[27,37,2,0],[28,2,3,0],[28,6,3,0,"_StaticContainer"],[28,22,3,0],[28,25,3,0,"require"],[28,32,3,0],[28,33,3,0,"_dependencyMap"],[28,47,3,0],[29,2,3,0],[29,6,3,0,"StaticContainer"],[29,21,3,0],[29,24,3,0,"_interopDefault"],[29,39,3,0],[29,40,3,0,"_StaticContainer"],[29,56,3,0],[30,2,4,0],[30,6,4,0,"_RootController"],[30,21,4,0],[30,24,4,0,"require"],[30,31,4,0],[30,32,4,0,"_dependencyMap"],[30,46,4,0],[31,2,4,57],[31,6,4,57,"_default"],[31,14,4,57],[31,40,4,57,"_Component"],[31,50,4,57],[32,4,6,4],[32,13,6,4,"_default"],[32,22,6,16,"props"],[32,27,6,21],[32,29,6,23],[33,6,6,23],[33,10,6,23,"_this"],[33,15,6,23],[34,6,6,23],[34,10,6,23,"_classCallCheck"],[34,25,6,23],[34,26,6,23,"default"],[34,33,6,23],[34,41,6,23,"_default"],[34,49,6,23],[35,6,7,8,"_this"],[35,11,7,8],[35,18,7,8,"_callSuper"],[35,28,7,8],[35,29,7,8,"default"],[35,36,7,8],[35,44,7,8,"_default"],[35,52,7,8],[35,55,7,14,"props"],[35,60,7,19],[36,6,8,8,"_this"],[36,11,8,8],[36,12,8,13,"updatedSiblings"],[36,27,8,28],[36,30,8,31],[36,34,8,35,"Set"],[36,37,8,38],[36,38,8,39],[36,39,8,40],[37,6,9,8,"_this"],[37,11,9,8],[37,12,9,13,"siblingsPool"],[37,24,9,25],[37,27,9,28],[37,29,9,30],[38,6,10,8,"_this"],[38,11,10,8],[38,12,10,13,"state"],[38,17,10,18],[38,20,10,21],[39,8,11,12,"siblings"],[39,16,11,20],[39,18,11,22],[40,6,12,8],[40,7,12,9],[41,6,12,10],[41,13,12,10,"_this"],[41,18,12,10],[42,4,13,4],[43,4,13,5],[43,8,13,5,"_inherits"],[43,17,13,5],[43,18,13,5,"default"],[43,25,13,5],[43,27,13,5,"_default"],[43,35,13,5],[43,37,13,5,"_Component"],[43,47,13,5],[44,4,13,5],[44,15,13,5,"_createClass"],[44,27,13,5],[44,28,13,5,"default"],[44,35,13,5],[44,37,13,5,"_default"],[44,45,13,5],[45,6,13,5,"key"],[45,9,13,5],[46,6,13,5,"value"],[46,11,13,5],[46,13,14,4],[46,22,14,4,"componentDidMount"],[46,39,14,21,"componentDidMount"],[46,40,14,21],[46,42,14,24],[47,8,15,8],[47,12,15,12],[47,13,15,13,"props"],[47,18,15,18],[47,19,15,19,"controller"],[47,29,15,29],[47,30,15,30,"setCallback"],[47,41,15,41],[47,42,15,42],[47,43,15,43,"id"],[47,45,15,45],[47,47,15,47,"change"],[47,53,15,53],[47,58,15,58],[48,10,16,12,"setTimeout"],[48,20,16,22],[48,21,16,23],[48,27,16,29],[48,31,16,33],[48,32,16,34,"commitChange"],[48,44,16,46],[48,45,16,47,"id"],[48,47,16,49],[48,49,16,51,"change"],[48,55,16,57],[48,56,16,58],[48,57,16,59],[49,8,17,8],[49,9,17,9],[49,10,17,10],[50,6,18,4],[51,4,18,5],[52,6,18,5,"key"],[52,9,18,5],[53,6,18,5,"value"],[53,11,18,5],[53,13,19,4],[53,22,19,4,"componentDidUpdate"],[53,40,19,22,"componentDidUpdate"],[53,41,19,22],[53,43,19,25],[54,8,20,8],[54,12,20,12],[54,13,20,13,"updatedSiblings"],[54,28,20,28],[54,29,20,29,"clear"],[54,34,20,34],[54,35,20,35],[54,36,20,36],[55,6,21,4],[56,4,21,5],[57,6,21,5,"key"],[57,9,21,5],[58,6,21,5,"value"],[58,11,21,5],[58,13,22,4],[58,22,22,4,"render"],[58,28,22,10,"render"],[58,29,22,10],[58,31,22,13],[59,8,23,8],[59,15,23,16],[59,19,23,16,"_jsxs"],[59,35,23,21],[59,36,23,21,"jsxs"],[59,40,23,21],[59,42,23,22,"_Fragment"],[59,58,23,31],[59,59,23,31,"Fragment"],[59,67,23,31],[59,69,23,33],[60,10,23,35,"children"],[60,18,23,43],[60,20,23,45],[60,21,23,46],[60,25,23,50],[60,26,23,51,"props"],[60,31,23,56],[60,32,23,57,"children"],[60,40,23,65],[60,42,23,67],[60,46,23,71],[60,47,23,72,"renderSiblings"],[60,61,23,86],[60,62,23,87],[60,63,23,88],[61,8,23,90],[61,9,23,91],[61,10,23,92],[62,6,24,4],[63,4,24,5],[64,6,24,5,"key"],[64,9,24,5],[65,6,24,5,"value"],[65,11,24,5],[65,13,25,4],[65,22,25,4,"commitChange"],[65,34,25,16,"commitChange"],[65,35,25,17,"id"],[65,37,25,19],[65,39,25,19,"_ref"],[65,43,25,19],[65,45,25,58],[66,8,25,58],[66,12,25,23,"change"],[66,18,25,29],[66,21,25,29,"_ref"],[66,25,25,29],[66,26,25,23,"change"],[66,32,25,29],[67,10,25,31,"element"],[67,17,25,38],[67,20,25,38,"_ref"],[67,24,25,38],[67,25,25,31,"element"],[67,32,25,38],[68,10,25,40,"updateCallback"],[68,24,25,54],[68,27,25,54,"_ref"],[68,31,25,54],[68,32,25,40,"updateCallback"],[68,46,25,54],[69,8,26,8],[69,12,26,14,"siblings"],[69,20,26,22],[69,23,26,25,"Array"],[69,28,26,30],[69,29,26,31,"from"],[69,33,26,35],[69,34,26,36],[69,38,26,40],[69,39,26,41,"siblingsPool"],[69,51,26,53],[69,52,26,54],[70,8,27,8],[70,12,27,14,"index"],[70,17,27,19],[70,20,27,22,"siblings"],[70,28,27,30],[70,29,27,31,"findIndex"],[70,38,27,40],[70,39,27,41,"sibling"],[70,46,27,48],[70,50,27,52,"sibling"],[70,57,27,59],[70,58,27,60,"id"],[70,60,27,62],[70,65,27,67,"id"],[70,67,27,69],[70,68,27,70],[71,8,28,8],[71,12,28,12,"change"],[71,18,28,18],[71,23,28,23,"RootControllerChanges"],[71,38,28,44],[71,39,28,44,"RootControllerChanges"],[71,60,28,44],[71,61,28,45,"Remove"],[71,67,28,51],[71,69,28,53],[72,10,29,12],[72,14,29,16,"index"],[72,19,29,21],[72,22,29,24],[72,23,29,25],[72,24,29,26],[72,26,29,28],[73,12,30,16,"siblings"],[73,20,30,24],[73,21,30,25,"splice"],[73,27,30,31],[73,28,30,32,"index"],[73,33,30,37],[73,35,30,39],[73,36,30,40],[73,37,30,41],[74,10,31,12],[74,11,31,13],[74,17,32,17],[75,12,33,16],[75,16,33,20],[75,17,33,21,"invokeCallback"],[75,31,33,35],[75,32,33,36,"updateCallback"],[75,46,33,50],[75,47,33,51],[76,12,34,16],[77,10,35,12],[78,8,36,8],[78,9,36,9],[78,15,37,13],[78,19,37,17,"change"],[78,25,37,23],[78,30,37,28,"RootControllerChanges"],[78,45,37,49],[78,46,37,49,"RootControllerChanges"],[78,67,37,49],[78,68,37,50,"Update"],[78,74,37,56],[78,76,37,58],[79,10,38,12],[79,14,38,16,"index"],[79,19,38,21],[79,22,38,24],[79,23,38,25],[79,24,38,26],[79,26,38,28],[80,12,39,16,"siblings"],[80,20,39,24],[80,21,39,25,"splice"],[80,27,39,31],[80,28,39,32,"index"],[80,33,39,37],[80,35,39,39],[80,36,39,40],[80,38,39,42],[81,14,40,20,"element"],[81,21,40,27],[82,14,41,20,"id"],[83,12,42,16],[83,13,42,17],[83,14,42,18],[84,12,43,16],[84,16,43,20],[84,17,43,21,"updatedSiblings"],[84,32,43,36],[84,33,43,37,"add"],[84,36,43,40],[84,37,43,41,"id"],[84,39,43,43],[84,40,43,44],[85,10,44,12],[85,11,44,13],[85,17,45,17],[86,12,46,16],[86,16,46,20],[86,17,46,21,"invokeCallback"],[86,31,46,35],[86,32,46,36,"updateCallback"],[86,46,46,50],[86,47,46,51],[87,12,47,16],[88,10,48,12],[89,8,49,8],[89,9,49,9],[89,15,50,13],[90,10,51,12],[90,14,51,16,"index"],[90,19,51,21],[90,22,51,24],[90,23,51,25],[90,24,51,26],[90,26,51,28],[91,12,52,16,"siblings"],[91,20,52,24],[91,21,52,25,"splice"],[91,27,52,31],[91,28,52,32,"index"],[91,33,52,37],[91,35,52,39],[91,36,52,40],[91,37,52,41],[92,10,53,12],[93,10,54,12,"siblings"],[93,18,54,20],[93,19,54,21,"push"],[93,23,54,25],[93,24,54,26],[94,12,55,16,"element"],[94,19,55,23],[95,12,56,16,"id"],[96,10,57,12],[96,11,57,13],[96,12,57,14],[97,10,58,12],[97,14,58,16],[97,15,58,17,"updatedSiblings"],[97,30,58,32],[97,31,58,33,"add"],[97,34,58,36],[97,35,58,37,"id"],[97,37,58,39],[97,38,58,40],[98,8,59,8],[99,8,60,8],[99,12,60,12],[99,13,60,13,"siblingsPool"],[99,25,60,25],[99,28,60,28,"siblings"],[99,36,60,36],[100,8,61,8],[100,12,61,12],[100,13,61,13,"setState"],[100,21,61,21],[100,22,61,22],[101,10,62,12,"siblings"],[102,8,63,8],[102,9,63,9],[102,11,63,11],[102,17,63,17],[102,21,63,21],[102,22,63,22,"invokeCallback"],[102,36,63,36],[102,37,63,37,"updateCallback"],[102,51,63,51],[102,52,63,52],[102,53,63,53],[103,6,64,4],[104,4,64,5],[105,6,64,5,"key"],[105,9,64,5],[106,6,64,5,"value"],[106,11,64,5],[106,13,65,4],[106,22,65,4,"invokeCallback"],[106,36,65,18,"invokeCallback"],[106,37,65,19,"callback"],[106,45,65,27],[106,47,65,29],[107,8,66,8],[107,12,66,12,"callback"],[107,20,66,20],[107,22,66,22],[108,10,67,12,"callback"],[108,18,67,20],[108,19,67,21],[108,20,67,22],[109,8,68,8],[110,6,69,4],[111,4,69,5],[112,6,69,5,"key"],[112,9,69,5],[113,6,69,5,"value"],[113,11,69,5],[113,13,70,4],[113,22,70,4,"renderSiblings"],[113,36,70,18,"renderSiblings"],[113,37,70,18],[113,39,70,21],[114,8,71,8],[114,15,71,15],[114,19,71,19],[114,20,71,20,"state"],[114,25,71,25],[114,26,71,26,"siblings"],[114,34,71,34],[114,35,71,35,"map"],[114,38,71,38],[114,39,71,39,"_ref2"],[114,44,71,39],[114,48,71,60],[115,10,71,60],[115,14,71,42,"id"],[115,16,71,44],[115,19,71,44,"_ref2"],[115,24,71,44],[115,25,71,42,"id"],[115,27,71,44],[116,12,71,46,"element"],[116,19,71,53],[116,22,71,53,"_ref2"],[116,27,71,53],[116,28,71,46,"element"],[116,35,71,53],[117,10,72,12],[117,17,72,20],[117,21,72,20,"_jsx"],[117,37,72,24],[117,38,72,24,"jsx"],[117,41,72,24],[117,43,72,25,"StaticContainer"],[117,58,72,40],[117,59,72,40,"default"],[117,66,72,40],[117,68,72,42],[118,12,72,44,"shouldUpdate"],[118,24,72,56],[118,26,72,58],[118,30,72,62],[118,31,72,63,"updatedSiblings"],[118,46,72,78],[118,47,72,79,"has"],[118,50,72,82],[118,51,72,83,"id"],[118,53,72,85],[118,54,72,86],[119,12,72,88,"children"],[119,20,72,96],[119,22,72,98],[119,26,72,102],[119,27,72,103,"wrapSibling"],[119,38,72,114],[119,39,72,115,"element"],[119,46,72,122],[120,10,72,124],[120,11,72,125],[120,13,72,127],[120,29,72,143,"id"],[120,31,72,145],[120,33,72,147],[120,34,72,148],[121,8,73,8],[121,9,73,9],[121,10,73,10],[122,6,74,4],[123,4,74,5],[124,6,74,5,"key"],[124,9,74,5],[125,6,74,5,"value"],[125,11,74,5],[125,13,75,4],[125,22,75,4,"wrapSibling"],[125,33,75,15,"wrapSibling"],[125,34,75,16,"element"],[125,41,75,23],[125,43,75,25],[126,8,76,8],[126,12,76,16,"renderSibling"],[126,25,76,29],[126,28,76,34],[126,32,76,38],[126,33,76,39,"props"],[126,38,76,44],[126,39,76,16,"renderSibling"],[126,52,76,29],[127,8,77,8],[127,12,77,12,"renderSibling"],[127,25,77,25],[127,27,77,27],[128,10,78,12],[128,17,78,19,"renderSibling"],[128,30,78,32],[128,31,78,33,"element"],[128,38,78,40],[128,39,78,41],[129,8,79,8],[129,9,79,9],[129,15,80,13],[130,10,81,12],[130,17,81,19,"element"],[130,24,81,26],[131,8,82,8],[132,6,83,4],[133,4,83,5],[134,2,83,5],[134,4,5,29,"Component"],[134,10,5,38],[134,11,5,38,"Component"],[134,20,5,38],[135,0,5,38],[135,3]],"functionMap":{"names":["<global>","default","default#constructor","default#componentDidMount","props.controller.setCallback$argument_0","setTimeout$argument_0","default#componentDidUpdate","default#render","default#commitChange","siblings.findIndex$argument_0","setState$argument_1","default#invokeCallback","default#renderSiblings","state.siblings.map$argument_0","default#wrapSibling"],"mappings":"AAA;eCI;ICC;KDO;IEC;0CCC;uBCC,mCD;SDC;KFC;IKC;KLE;IMC;KNE;IOC;yCCE,4BD;WEoC,yCF;KPC;IUC;KVI;IWC;uCCC;SDE;KXC;IaC;KbQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}