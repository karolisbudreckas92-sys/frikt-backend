{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"RootControllerChanges\", {\n    enumerable: true,\n    get: function () {\n      return RootControllerChanges;\n    }\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootController;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var RootControllerChanges;\n  (function (RootControllerChanges) {\n    RootControllerChanges[RootControllerChanges[\"Insert\"] = 0] = \"Insert\";\n    RootControllerChanges[RootControllerChanges[\"Update\"] = 1] = \"Update\";\n    RootControllerChanges[RootControllerChanges[\"Remove\"] = 2] = \"Remove\";\n  })(RootControllerChanges || (RootControllerChanges = {}));\n  var RootController = /*#__PURE__*/function () {\n    function RootController() {\n      (0, _classCallCheck.default)(this, RootController);\n      this.siblings = new Set();\n      this.pendingActions = [];\n      this.callback = null;\n    }\n    return (0, _createClass.default)(RootController, [{\n      key: \"update\",\n      value: function update(id, element, callback) {\n        if (!this.siblings.has(id)) {\n          this.emit(id, {\n            change: RootControllerChanges.Insert,\n            element,\n            updateCallback: callback\n          });\n          this.siblings.add(id);\n        } else {\n          this.emit(id, {\n            change: RootControllerChanges.Update,\n            element,\n            updateCallback: callback\n          });\n        }\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy(id, callback) {\n        if (this.siblings.has(id)) {\n          this.emit(id, {\n            change: RootControllerChanges.Remove,\n            element: null,\n            updateCallback: callback\n          });\n          this.siblings.delete(id);\n        } else if (callback) {\n          callback();\n        }\n      }\n    }, {\n      key: \"setCallback\",\n      value: function setCallback(callback) {\n        this.callback = callback;\n        this.pendingActions.forEach(_ref => {\n          var id = _ref.id,\n            action = _ref.action;\n          callback(id, action);\n        });\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(id, action) {\n        if (this.callback) {\n          this.callback(id, action);\n        } else {\n          this.pendingActions.push({\n            action,\n            id\n          });\n        }\n      }\n    }]);\n  }();\n});","lineCount":97,"map":[[12,2,1,0,"Object"],[12,8,1,0],[12,9,1,0,"defineProperty"],[12,23,1,0],[12,24,1,0,"exports"],[12,31,1,0],[13,4,1,0,"enumerable"],[13,14,1,0],[14,4,1,0,"get"],[14,7,1,0],[14,18,1,0,"get"],[14,19,1,0],[15,6,1,0],[15,13,1,0,"RootControllerChanges"],[15,34,1,0],[16,4,1,0],[17,2,1,0],[18,2,1,33,"Object"],[18,8,1,33],[18,9,1,33,"defineProperty"],[18,23,1,33],[18,24,1,33,"exports"],[18,31,1,33],[19,4,1,33,"enumerable"],[19,14,1,33],[20,4,1,33,"get"],[20,7,1,33],[20,18,1,33,"get"],[20,19,1,33],[21,6,1,33],[21,13,7,21,"RootController"],[21,27,7,35],[22,4,7,35],[23,2,7,35],[24,2,7,35],[24,6,7,35,"_babelRuntimeHelpersClassCallCheck"],[24,40,7,35],[24,43,7,35,"require"],[24,50,7,35],[24,51,7,35,"_dependencyMap"],[24,65,7,35],[25,2,7,35],[25,6,7,35,"_classCallCheck"],[25,21,7,35],[25,24,7,35,"_interopDefault"],[25,39,7,35],[25,40,7,35,"_babelRuntimeHelpersClassCallCheck"],[25,74,7,35],[26,2,7,35],[26,6,7,35,"_babelRuntimeHelpersCreateClass"],[26,37,7,35],[26,40,7,35,"require"],[26,47,7,35],[26,48,7,35,"_dependencyMap"],[26,62,7,35],[27,2,7,35],[27,6,7,35,"_createClass"],[27,18,7,35],[27,21,7,35,"_interopDefault"],[27,36,7,35],[27,37,7,35,"_babelRuntimeHelpersCreateClass"],[27,68,7,35],[28,2,1,7],[28,6,1,11,"RootControllerChanges"],[28,27,1,32],[29,2,2,0],[29,3,2,1],[29,13,2,11,"RootControllerChanges"],[29,34,2,32],[29,36,2,34],[30,4,3,4,"RootControllerChanges"],[30,25,3,25],[30,26,3,26,"RootControllerChanges"],[30,47,3,47],[30,48,3,48],[30,56,3,56],[30,57,3,57],[30,60,3,60],[30,61,3,61],[30,62,3,62],[30,65,3,65],[30,73,3,73],[31,4,4,4,"RootControllerChanges"],[31,25,4,25],[31,26,4,26,"RootControllerChanges"],[31,47,4,47],[31,48,4,48],[31,56,4,56],[31,57,4,57],[31,60,4,60],[31,61,4,61],[31,62,4,62],[31,65,4,65],[31,73,4,73],[32,4,5,4,"RootControllerChanges"],[32,25,5,25],[32,26,5,26,"RootControllerChanges"],[32,47,5,47],[32,48,5,48],[32,56,5,56],[32,57,5,57],[32,60,5,60],[32,61,5,61],[32,62,5,62],[32,65,5,65],[32,73,5,73],[33,2,6,0],[33,3,6,1],[33,5,6,3,"RootControllerChanges"],[33,26,6,24],[33,31,6,29,"RootControllerChanges"],[33,52,6,50],[33,55,6,53],[33,56,6,54],[33,57,6,55],[33,58,6,56],[33,59,6,57],[34,2,6,58],[34,6,7,21,"RootController"],[34,20,7,35],[35,4,8,4],[35,13,8,4,"RootController"],[35,28,8,4],[35,30,8,18],[36,6,8,18],[36,10,8,18,"_classCallCheck"],[36,25,8,18],[36,26,8,18,"default"],[36,33,8,18],[36,41,8,18,"RootController"],[36,55,8,18],[37,6,9,8],[37,10,9,12],[37,11,9,13,"siblings"],[37,19,9,21],[37,22,9,24],[37,26,9,28,"Set"],[37,29,9,31],[37,30,9,32],[37,31,9,33],[38,6,10,8],[38,10,10,12],[38,11,10,13,"pendingActions"],[38,25,10,27],[38,28,10,30],[38,30,10,32],[39,6,11,8],[39,10,11,12],[39,11,11,13,"callback"],[39,19,11,21],[39,22,11,24],[39,26,11,28],[40,4,12,4],[41,4,12,5],[41,15,12,5,"_createClass"],[41,27,12,5],[41,28,12,5,"default"],[41,35,12,5],[41,37,12,5,"RootController"],[41,51,12,5],[42,6,12,5,"key"],[42,9,12,5],[43,6,12,5,"value"],[43,11,12,5],[43,13,13,4],[43,22,13,4,"update"],[43,28,13,10,"update"],[43,29,13,11,"id"],[43,31,13,13],[43,33,13,15,"element"],[43,40,13,22],[43,42,13,24,"callback"],[43,50,13,32],[43,52,13,34],[44,8,14,8],[44,12,14,12],[44,13,14,13],[44,17,14,17],[44,18,14,18,"siblings"],[44,26,14,26],[44,27,14,27,"has"],[44,30,14,30],[44,31,14,31,"id"],[44,33,14,33],[44,34,14,34],[44,36,14,36],[45,10,15,12],[45,14,15,16],[45,15,15,17,"emit"],[45,19,15,21],[45,20,15,22,"id"],[45,22,15,24],[45,24,15,26],[46,12,16,16,"change"],[46,18,16,22],[46,20,16,24,"RootControllerChanges"],[46,41,16,45],[46,42,16,46,"Insert"],[46,48,16,52],[47,12,17,16,"element"],[47,19,17,23],[48,12,18,16,"updateCallback"],[48,26,18,30],[48,28,18,32,"callback"],[49,10,19,12],[49,11,19,13],[49,12,19,14],[50,10,20,12],[50,14,20,16],[50,15,20,17,"siblings"],[50,23,20,25],[50,24,20,26,"add"],[50,27,20,29],[50,28,20,30,"id"],[50,30,20,32],[50,31,20,33],[51,8,21,8],[51,9,21,9],[51,15,22,13],[52,10,23,12],[52,14,23,16],[52,15,23,17,"emit"],[52,19,23,21],[52,20,23,22,"id"],[52,22,23,24],[52,24,23,26],[53,12,24,16,"change"],[53,18,24,22],[53,20,24,24,"RootControllerChanges"],[53,41,24,45],[53,42,24,46,"Update"],[53,48,24,52],[54,12,25,16,"element"],[54,19,25,23],[55,12,26,16,"updateCallback"],[55,26,26,30],[55,28,26,32,"callback"],[56,10,27,12],[56,11,27,13],[56,12,27,14],[57,8,28,8],[58,6,29,4],[59,4,29,5],[60,6,29,5,"key"],[60,9,29,5],[61,6,29,5,"value"],[61,11,29,5],[61,13,30,4],[61,22,30,4,"destroy"],[61,29,30,11,"destroy"],[61,30,30,12,"id"],[61,32,30,14],[61,34,30,16,"callback"],[61,42,30,24],[61,44,30,26],[62,8,31,8],[62,12,31,12],[62,16,31,16],[62,17,31,17,"siblings"],[62,25,31,25],[62,26,31,26,"has"],[62,29,31,29],[62,30,31,30,"id"],[62,32,31,32],[62,33,31,33],[62,35,31,35],[63,10,32,12],[63,14,32,16],[63,15,32,17,"emit"],[63,19,32,21],[63,20,32,22,"id"],[63,22,32,24],[63,24,32,26],[64,12,33,16,"change"],[64,18,33,22],[64,20,33,24,"RootControllerChanges"],[64,41,33,45],[64,42,33,46,"Remove"],[64,48,33,52],[65,12,34,16,"element"],[65,19,34,23],[65,21,34,25],[65,25,34,29],[66,12,35,16,"updateCallback"],[66,26,35,30],[66,28,35,32,"callback"],[67,10,36,12],[67,11,36,13],[67,12,36,14],[68,10,37,12],[68,14,37,16],[68,15,37,17,"siblings"],[68,23,37,25],[68,24,37,26,"delete"],[68,30,37,32],[68,31,37,33,"id"],[68,33,37,35],[68,34,37,36],[69,8,38,8],[69,9,38,9],[69,15,39,13],[69,19,39,17,"callback"],[69,27,39,25],[69,29,39,27],[70,10,40,12,"callback"],[70,18,40,20],[70,19,40,21],[70,20,40,22],[71,8,41,8],[72,6,42,4],[73,4,42,5],[74,6,42,5,"key"],[74,9,42,5],[75,6,42,5,"value"],[75,11,42,5],[75,13,43,4],[75,22,43,4,"setCallback"],[75,33,43,15,"setCallback"],[75,34,43,16,"callback"],[75,42,43,24],[75,44,43,26],[76,8,44,8],[76,12,44,12],[76,13,44,13,"callback"],[76,21,44,21],[76,24,44,24,"callback"],[76,32,44,32],[77,8,45,8],[77,12,45,12],[77,13,45,13,"pendingActions"],[77,27,45,27],[77,28,45,28,"forEach"],[77,35,45,35],[77,36,45,36,"_ref"],[77,40,45,36],[77,44,45,56],[78,10,45,56],[78,14,45,39,"id"],[78,16,45,41],[78,19,45,41,"_ref"],[78,23,45,41],[78,24,45,39,"id"],[78,26,45,41],[79,12,45,43,"action"],[79,18,45,49],[79,21,45,49,"_ref"],[79,25,45,49],[79,26,45,43,"action"],[79,32,45,49],[80,10,46,12,"callback"],[80,18,46,20],[80,19,46,21,"id"],[80,21,46,23],[80,23,46,25,"action"],[80,29,46,31],[80,30,46,32],[81,8,47,8],[81,9,47,9],[81,10,47,10],[82,6,48,4],[83,4,48,5],[84,6,48,5,"key"],[84,9,48,5],[85,6,48,5,"value"],[85,11,48,5],[85,13,49,4],[85,22,49,4,"emit"],[85,26,49,8,"emit"],[85,27,49,9,"id"],[85,29,49,11],[85,31,49,13,"action"],[85,37,49,19],[85,39,49,21],[86,8,50,8],[86,12,50,12],[86,16,50,16],[86,17,50,17,"callback"],[86,25,50,25],[86,27,50,27],[87,10,51,12],[87,14,51,16],[87,15,51,17,"callback"],[87,23,51,25],[87,24,51,26,"id"],[87,26,51,28],[87,28,51,30,"action"],[87,34,51,36],[87,35,51,37],[88,8,52,8],[88,9,52,9],[88,15,53,13],[89,10,54,12],[89,14,54,16],[89,15,54,17,"pendingActions"],[89,29,54,31],[89,30,54,32,"push"],[89,34,54,36],[89,35,54,37],[90,12,55,16,"action"],[90,18,55,22],[91,12,56,16,"id"],[92,10,57,12],[92,11,57,13],[92,12,57,14],[93,8,58,8],[94,6,59,4],[95,4,59,5],[96,2,59,5],[97,0,59,5],[97,3]],"functionMap":{"names":["<global>","<anonymous>","RootController","constructor","update","destroy","setCallback","pendingActions.forEach$argument_0","emit"],"mappings":"AAA;CCC;CDI;eEC;ICC;KDI;IEC;KFgB;IGC;KHY;IIC;oCCE;SDE;KJC;IMC;KNU;CFC"},"hasCjsExports":false},"type":"js/module"}]}