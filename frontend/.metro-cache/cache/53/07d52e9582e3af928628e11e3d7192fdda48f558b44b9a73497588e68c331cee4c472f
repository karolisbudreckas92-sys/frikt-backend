{"dependencies":[{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":86,"index":86}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":87},"end":{"line":2,"column":34,"index":121}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./StaticContainer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":122},"end":{"line":3,"column":48,"index":170}}],"key":"cUqed8Z8W4AGaD1YUoy3XhHxTCI=","exportNames":["*"],"imports":1}},{"name":"./RootController","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":171},"end":{"line":4,"column":57,"index":228}}],"key":"Ayhyf8/iKmyM5WLM1IAYQE6xnXM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  var _reactJsxRuntime = require(_dependencyMap[0], \"react/jsx-runtime\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _StaticContainer = require(_dependencyMap[2], \"./StaticContainer\");\n  var StaticContainer = _interopDefault(_StaticContainer);\n  var _RootController = require(_dependencyMap[3], \"./RootController\");\n  class _ref extends _react.Component {\n    constructor(props) {\n      super(props);\n      this.updatedSiblings = new Set();\n      this.siblingsPool = [];\n      this.state = {\n        siblings: []\n      };\n    }\n    componentDidMount() {\n      this.props.controller.setCallback((id, change) => {\n        setTimeout(() => this.commitChange(id, change));\n      });\n    }\n    componentDidUpdate() {\n      this.updatedSiblings.clear();\n    }\n    render() {\n      return (0, _reactJsxRuntime.jsxs)(_reactJsxRuntime.Fragment, {\n        children: [this.props.children, this.renderSiblings()]\n      });\n    }\n    commitChange(id, {\n      change,\n      element,\n      updateCallback\n    }) {\n      const siblings = Array.from(this.siblingsPool);\n      const index = siblings.findIndex(sibling => sibling.id === id);\n      if (change === _RootController.RootControllerChanges.Remove) {\n        if (index > -1) {\n          siblings.splice(index, 1);\n        } else {\n          this.invokeCallback(updateCallback);\n          return;\n        }\n      } else if (change === _RootController.RootControllerChanges.Update) {\n        if (index > -1) {\n          siblings.splice(index, 1, {\n            element,\n            id\n          });\n          this.updatedSiblings.add(id);\n        } else {\n          this.invokeCallback(updateCallback);\n          return;\n        }\n      } else {\n        if (index > -1) {\n          siblings.splice(index, 1);\n        }\n        siblings.push({\n          element,\n          id\n        });\n        this.updatedSiblings.add(id);\n      }\n      this.siblingsPool = siblings;\n      this.setState({\n        siblings\n      }, () => this.invokeCallback(updateCallback));\n    }\n    invokeCallback(callback) {\n      if (callback) {\n        callback();\n      }\n    }\n    renderSiblings() {\n      return this.state.siblings.map(({\n        id,\n        element\n      }) => {\n        return (0, _reactJsxRuntime.jsx)(StaticContainer.default, {\n          shouldUpdate: this.updatedSiblings.has(id),\n          children: this.wrapSibling(element)\n        }, `root-sibling-${id}`);\n      });\n    }\n    wrapSibling(element) {\n      const {\n        renderSibling\n      } = this.props;\n      if (renderSibling) {\n        return renderSibling(element);\n      } else {\n        return element;\n      }\n    }\n  }\n});","lineCount":112,"map":[[12,2,5,15,"Object"],[12,8,5,15],[12,9,5,15,"defineProperty"],[12,23,5,15],[12,24,5,15,"exports"],[12,31,5,15],[13,4,5,15,"enumerable"],[13,14,5,15],[14,4,5,15,"get"],[14,7,5,15],[14,18,5,15,"get"],[14,19,5,15],[15,6,5,15],[15,13,5,15,"_ref"],[15,17,5,15],[16,4,5,15],[17,2,5,15],[18,2,1,0],[18,6,1,0,"_reactJsxRuntime"],[18,22,1,0],[18,25,1,0,"require"],[18,32,1,0],[18,33,1,0,"_dependencyMap"],[18,47,1,0],[19,2,2,0],[19,6,2,0,"_react"],[19,12,2,0],[19,15,2,0,"require"],[19,22,2,0],[19,23,2,0,"_dependencyMap"],[19,37,2,0],[20,2,3,0],[20,6,3,0,"_StaticContainer"],[20,22,3,0],[20,25,3,0,"require"],[20,32,3,0],[20,33,3,0,"_dependencyMap"],[20,47,3,0],[21,2,3,0],[21,6,3,0,"StaticContainer"],[21,21,3,0],[21,24,3,0,"_interopDefault"],[21,39,3,0],[21,40,3,0,"_StaticContainer"],[21,56,3,0],[22,2,4,0],[22,6,4,0,"_RootController"],[22,21,4,0],[22,24,4,0,"require"],[22,31,4,0],[22,32,4,0,"_dependencyMap"],[22,46,4,0],[23,2,5,15],[23,8,5,15,"_ref"],[23,12,5,15],[23,21,5,29,"Component"],[23,27,5,38],[23,28,5,38,"Component"],[23,37,5,38],[23,38,5,39],[24,4,6,4,"constructor"],[24,15,6,15,"constructor"],[24,16,6,16,"props"],[24,21,6,21],[24,23,6,23],[25,6,7,8],[25,11,7,13],[25,12,7,14,"props"],[25,17,7,19],[25,18,7,20],[26,6,8,8],[26,10,8,12],[26,11,8,13,"updatedSiblings"],[26,26,8,28],[26,29,8,31],[26,33,8,35,"Set"],[26,36,8,38],[26,37,8,39],[26,38,8,40],[27,6,9,8],[27,10,9,12],[27,11,9,13,"siblingsPool"],[27,23,9,25],[27,26,9,28],[27,28,9,30],[28,6,10,8],[28,10,10,12],[28,11,10,13,"state"],[28,16,10,18],[28,19,10,21],[29,8,11,12,"siblings"],[29,16,11,20],[29,18,11,22],[30,6,12,8],[30,7,12,9],[31,4,13,4],[32,4,14,4,"componentDidMount"],[32,21,14,21,"componentDidMount"],[32,22,14,21],[32,24,14,24],[33,6,15,8],[33,10,15,12],[33,11,15,13,"props"],[33,16,15,18],[33,17,15,19,"controller"],[33,27,15,29],[33,28,15,30,"setCallback"],[33,39,15,41],[33,40,15,42],[33,41,15,43,"id"],[33,43,15,45],[33,45,15,47,"change"],[33,51,15,53],[33,56,15,58],[34,8,16,12,"setTimeout"],[34,18,16,22],[34,19,16,23],[34,25,16,29],[34,29,16,33],[34,30,16,34,"commitChange"],[34,42,16,46],[34,43,16,47,"id"],[34,45,16,49],[34,47,16,51,"change"],[34,53,16,57],[34,54,16,58],[34,55,16,59],[35,6,17,8],[35,7,17,9],[35,8,17,10],[36,4,18,4],[37,4,19,4,"componentDidUpdate"],[37,22,19,22,"componentDidUpdate"],[37,23,19,22],[37,25,19,25],[38,6,20,8],[38,10,20,12],[38,11,20,13,"updatedSiblings"],[38,26,20,28],[38,27,20,29,"clear"],[38,32,20,34],[38,33,20,35],[38,34,20,36],[39,4,21,4],[40,4,22,4,"render"],[40,10,22,10,"render"],[40,11,22,10],[40,13,22,13],[41,6,23,8],[41,13,23,16],[41,17,23,16,"_jsxs"],[41,33,23,21],[41,34,23,21,"jsxs"],[41,38,23,21],[41,40,23,22,"_Fragment"],[41,56,23,31],[41,57,23,31,"Fragment"],[41,65,23,31],[41,67,23,33],[42,8,23,35,"children"],[42,16,23,43],[42,18,23,45],[42,19,23,46],[42,23,23,50],[42,24,23,51,"props"],[42,29,23,56],[42,30,23,57,"children"],[42,38,23,65],[42,40,23,67],[42,44,23,71],[42,45,23,72,"renderSiblings"],[42,59,23,86],[42,60,23,87],[42,61,23,88],[43,6,23,90],[43,7,23,91],[43,8,23,92],[44,4,24,4],[45,4,25,4,"commitChange"],[45,16,25,16,"commitChange"],[45,17,25,17,"id"],[45,19,25,19],[45,21,25,21],[46,6,25,23,"change"],[46,12,25,29],[47,6,25,31,"element"],[47,13,25,38],[48,6,25,40,"updateCallback"],[49,4,25,55],[49,5,25,56],[49,7,25,58],[50,6,26,8],[50,12,26,14,"siblings"],[50,20,26,22],[50,23,26,25,"Array"],[50,28,26,30],[50,29,26,31,"from"],[50,33,26,35],[50,34,26,36],[50,38,26,40],[50,39,26,41,"siblingsPool"],[50,51,26,53],[50,52,26,54],[51,6,27,8],[51,12,27,14,"index"],[51,17,27,19],[51,20,27,22,"siblings"],[51,28,27,30],[51,29,27,31,"findIndex"],[51,38,27,40],[51,39,27,41,"sibling"],[51,46,27,48],[51,50,27,52,"sibling"],[51,57,27,59],[51,58,27,60,"id"],[51,60,27,62],[51,65,27,67,"id"],[51,67,27,69],[51,68,27,70],[52,6,28,8],[52,10,28,12,"change"],[52,16,28,18],[52,21,28,23,"RootControllerChanges"],[52,36,28,44],[52,37,28,44,"RootControllerChanges"],[52,58,28,44],[52,59,28,45,"Remove"],[52,65,28,51],[52,67,28,53],[53,8,29,12],[53,12,29,16,"index"],[53,17,29,21],[53,20,29,24],[53,21,29,25],[53,22,29,26],[53,24,29,28],[54,10,30,16,"siblings"],[54,18,30,24],[54,19,30,25,"splice"],[54,25,30,31],[54,26,30,32,"index"],[54,31,30,37],[54,33,30,39],[54,34,30,40],[54,35,30,41],[55,8,31,12],[55,9,31,13],[55,15,32,17],[56,10,33,16],[56,14,33,20],[56,15,33,21,"invokeCallback"],[56,29,33,35],[56,30,33,36,"updateCallback"],[56,44,33,50],[56,45,33,51],[57,10,34,16],[58,8,35,12],[59,6,36,8],[59,7,36,9],[59,13,37,13],[59,17,37,17,"change"],[59,23,37,23],[59,28,37,28,"RootControllerChanges"],[59,43,37,49],[59,44,37,49,"RootControllerChanges"],[59,65,37,49],[59,66,37,50,"Update"],[59,72,37,56],[59,74,37,58],[60,8,38,12],[60,12,38,16,"index"],[60,17,38,21],[60,20,38,24],[60,21,38,25],[60,22,38,26],[60,24,38,28],[61,10,39,16,"siblings"],[61,18,39,24],[61,19,39,25,"splice"],[61,25,39,31],[61,26,39,32,"index"],[61,31,39,37],[61,33,39,39],[61,34,39,40],[61,36,39,42],[62,12,40,20,"element"],[62,19,40,27],[63,12,41,20,"id"],[64,10,42,16],[64,11,42,17],[64,12,42,18],[65,10,43,16],[65,14,43,20],[65,15,43,21,"updatedSiblings"],[65,30,43,36],[65,31,43,37,"add"],[65,34,43,40],[65,35,43,41,"id"],[65,37,43,43],[65,38,43,44],[66,8,44,12],[66,9,44,13],[66,15,45,17],[67,10,46,16],[67,14,46,20],[67,15,46,21,"invokeCallback"],[67,29,46,35],[67,30,46,36,"updateCallback"],[67,44,46,50],[67,45,46,51],[68,10,47,16],[69,8,48,12],[70,6,49,8],[70,7,49,9],[70,13,50,13],[71,8,51,12],[71,12,51,16,"index"],[71,17,51,21],[71,20,51,24],[71,21,51,25],[71,22,51,26],[71,24,51,28],[72,10,52,16,"siblings"],[72,18,52,24],[72,19,52,25,"splice"],[72,25,52,31],[72,26,52,32,"index"],[72,31,52,37],[72,33,52,39],[72,34,52,40],[72,35,52,41],[73,8,53,12],[74,8,54,12,"siblings"],[74,16,54,20],[74,17,54,21,"push"],[74,21,54,25],[74,22,54,26],[75,10,55,16,"element"],[75,17,55,23],[76,10,56,16,"id"],[77,8,57,12],[77,9,57,13],[77,10,57,14],[78,8,58,12],[78,12,58,16],[78,13,58,17,"updatedSiblings"],[78,28,58,32],[78,29,58,33,"add"],[78,32,58,36],[78,33,58,37,"id"],[78,35,58,39],[78,36,58,40],[79,6,59,8],[80,6,60,8],[80,10,60,12],[80,11,60,13,"siblingsPool"],[80,23,60,25],[80,26,60,28,"siblings"],[80,34,60,36],[81,6,61,8],[81,10,61,12],[81,11,61,13,"setState"],[81,19,61,21],[81,20,61,22],[82,8,62,12,"siblings"],[83,6,63,8],[83,7,63,9],[83,9,63,11],[83,15,63,17],[83,19,63,21],[83,20,63,22,"invokeCallback"],[83,34,63,36],[83,35,63,37,"updateCallback"],[83,49,63,51],[83,50,63,52],[83,51,63,53],[84,4,64,4],[85,4,65,4,"invokeCallback"],[85,18,65,18,"invokeCallback"],[85,19,65,19,"callback"],[85,27,65,27],[85,29,65,29],[86,6,66,8],[86,10,66,12,"callback"],[86,18,66,20],[86,20,66,22],[87,8,67,12,"callback"],[87,16,67,20],[87,17,67,21],[87,18,67,22],[88,6,68,8],[89,4,69,4],[90,4,70,4,"renderSiblings"],[90,18,70,18,"renderSiblings"],[90,19,70,18],[90,21,70,21],[91,6,71,8],[91,13,71,15],[91,17,71,19],[91,18,71,20,"state"],[91,23,71,25],[91,24,71,26,"siblings"],[91,32,71,34],[91,33,71,35,"map"],[91,36,71,38],[91,37,71,39],[91,38,71,40],[92,8,71,42,"id"],[92,10,71,44],[93,8,71,46,"element"],[94,6,71,54],[94,7,71,55],[94,12,71,60],[95,8,72,12],[95,15,72,20],[95,19,72,20,"_jsx"],[95,35,72,24],[95,36,72,24,"jsx"],[95,39,72,24],[95,41,72,25,"StaticContainer"],[95,56,72,40],[95,57,72,40,"default"],[95,64,72,40],[95,66,72,42],[96,10,72,44,"shouldUpdate"],[96,22,72,56],[96,24,72,58],[96,28,72,62],[96,29,72,63,"updatedSiblings"],[96,44,72,78],[96,45,72,79,"has"],[96,48,72,82],[96,49,72,83,"id"],[96,51,72,85],[96,52,72,86],[97,10,72,88,"children"],[97,18,72,96],[97,20,72,98],[97,24,72,102],[97,25,72,103,"wrapSibling"],[97,36,72,114],[97,37,72,115,"element"],[97,44,72,122],[98,8,72,124],[98,9,72,125],[98,11,72,127],[98,27,72,143,"id"],[98,29,72,145],[98,31,72,147],[98,32,72,148],[99,6,73,8],[99,7,73,9],[99,8,73,10],[100,4,74,4],[101,4,75,4,"wrapSibling"],[101,15,75,15,"wrapSibling"],[101,16,75,16,"element"],[101,23,75,23],[101,25,75,25],[102,6,76,8],[102,12,76,14],[103,8,76,16,"renderSibling"],[104,6,76,30],[104,7,76,31],[104,10,76,34],[104,14,76,38],[104,15,76,39,"props"],[104,20,76,44],[105,6,77,8],[105,10,77,12,"renderSibling"],[105,23,77,25],[105,25,77,27],[106,8,78,12],[106,15,78,19,"renderSibling"],[106,28,78,32],[106,29,78,33,"element"],[106,36,78,40],[106,37,78,41],[107,6,79,8],[107,7,79,9],[107,13,80,13],[108,8,81,12],[108,15,81,19,"element"],[108,22,81,26],[109,6,82,8],[110,4,83,4],[111,2,84,0],[112,0,84,1],[112,3]],"functionMap":{"names":["<global>","default","default#constructor","default#componentDidMount","props.controller.setCallback$argument_0","setTimeout$argument_0","default#componentDidUpdate","default#render","default#commitChange","siblings.findIndex$argument_0","setState$argument_1","default#invokeCallback","default#renderSiblings","state.siblings.map$argument_0","default#wrapSibling"],"mappings":"AAA;eCI;ICC;KDO;IEC;0CCC;uBCC,mCD;SDC;KFC;IKC;KLE;IMC;KNE;IOC;yCCE,4BD;WEoC,yCF;KPC;IUC;KVI;IWC;uCCC;SDE;KXC;IaC;KbQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}