{"dependencies":[{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":44,"index":93}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./ChildrenWrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":48,"index":142}}],"key":"O9CDReqaW75VknkXB89BKai+wsE=","exportNames":["*"],"imports":1}},{"name":"./wrapRootComponent","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":52,"index":195}}],"key":"iDPl8BN/tqjAwrSzzXly2d89MHM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootSiblingsManager;\n    }\n  });\n  exports.setSiblingWrapper = setSiblingWrapper;\n  exports.RootSiblingParent = RootSiblingParent;\n  exports.RootSiblingPortal = RootSiblingPortal;\n  var _reactJsxRuntime = require(_dependencyMap[0], \"react/jsx-runtime\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _ChildrenWrapper = require(_dependencyMap[2], \"./ChildrenWrapper\");\n  var ChildrenWrapper = _interopDefault(_ChildrenWrapper);\n  var _wrapRootComponent = require(_dependencyMap[3], \"./wrapRootComponent\");\n  var wrapRootComponent = _interopDefault(_wrapRootComponent);\n  let siblingWrapper = sibling => sibling;\n  function renderSibling(sibling) {\n    return siblingWrapper(sibling);\n  }\n  function setSiblingWrapper(wrapper) {\n    siblingWrapper = wrapper;\n  }\n  const {\n    manager: defaultManager\n  } = (0, wrapRootComponent.default)(ChildrenWrapper.default, renderSibling);\n  let uuid = 0;\n  const managerStack = [defaultManager];\n  const inactiveManagers = new Set();\n  function getActiveManager() {\n    for (let i = managerStack.length - 1; i >= 0; i--) {\n      const manager = managerStack[i];\n      if (!inactiveManagers.has(manager)) {\n        return manager;\n      }\n    }\n    return defaultManager;\n  }\n  class RootSiblingsManager {\n    constructor(element, callback) {\n      this.id = `root-sibling-${uuid + 1}`;\n      this.manager = getActiveManager();\n      this.manager.update(this.id, element, callback);\n      uuid++;\n    }\n    update(element, callback) {\n      this.manager.update(this.id, element, callback);\n    }\n    destroy(callback) {\n      this.manager.destroy(this.id, callback);\n    }\n  }\n  function RootSiblingParent(props) {\n    const {\n      inactive\n    } = props;\n    const [sibling] = (0, _react.useState)(() => {\n      const {\n        Root: parentRoot,\n        manager: parentManager\n      } = (0, wrapRootComponent.default)(ChildrenWrapper.default, renderSibling);\n      managerStack.push(parentManager);\n      if (inactive) {\n        inactiveManagers.add(parentManager);\n      }\n      return {\n        Root: parentRoot,\n        manager: parentManager\n      };\n    });\n    (0, _react.useEffect)(() => {\n      return () => {\n        if (sibling) {\n          const index = managerStack.indexOf(sibling.manager);\n          if (index > 0) {\n            managerStack.splice(index, 1);\n          }\n        }\n      };\n    }, [sibling]);\n    if (inactive && sibling && !inactiveManagers.has(sibling.manager)) {\n      inactiveManagers.add(sibling.manager);\n    } else if (!inactive && sibling && inactiveManagers.has(sibling.manager)) {\n      inactiveManagers.delete(sibling.manager);\n    }\n    const Parent = sibling.Root;\n    return (0, _reactJsxRuntime.jsx)(Parent, {\n      children: props.children\n    });\n  }\n  function RootSiblingPortal(props) {\n    const [sibling] = (0, _react.useState)(() => new RootSiblingsManager(null));\n    sibling.update(props.children);\n    (0, _react.useEffect)(() => {\n      if (sibling) {\n        return () => sibling.destroy();\n      }\n    }, [sibling]);\n    return null;\n  }\n});","lineCount":111,"map":[[12,2,25,15,"Object"],[12,8,25,15],[12,9,25,15,"defineProperty"],[12,23,25,15],[12,24,25,15,"exports"],[12,31,25,15],[13,4,25,15,"enumerable"],[13,14,25,15],[14,4,25,15,"get"],[14,7,25,15],[14,18,25,15,"get"],[14,19,25,15],[15,6,25,15],[15,13,25,15,"RootSiblingsManager"],[15,32,25,15],[16,4,25,15],[17,2,25,15],[18,2,9,0,"exports"],[18,9,9,0],[18,10,9,0,"setSiblingWrapper"],[18,27,9,0],[18,30,9,0,"setSiblingWrapper"],[18,47,9,0],[19,2,39,0,"exports"],[19,9,39,0],[19,10,39,0,"RootSiblingParent"],[19,27,39,0],[19,30,39,0,"RootSiblingParent"],[19,47,39,0],[20,2,71,0,"exports"],[20,9,71,0],[20,10,71,0,"RootSiblingPortal"],[20,27,71,0],[20,30,71,0,"RootSiblingPortal"],[20,47,71,0],[21,2,1,0],[21,6,1,0,"_reactJsxRuntime"],[21,22,1,0],[21,25,1,0,"require"],[21,32,1,0],[21,33,1,0,"_dependencyMap"],[21,47,1,0],[22,2,2,0],[22,6,2,0,"_react"],[22,12,2,0],[22,15,2,0,"require"],[22,22,2,0],[22,23,2,0,"_dependencyMap"],[22,37,2,0],[23,2,3,0],[23,6,3,0,"_ChildrenWrapper"],[23,22,3,0],[23,25,3,0,"require"],[23,32,3,0],[23,33,3,0,"_dependencyMap"],[23,47,3,0],[24,2,3,0],[24,6,3,0,"ChildrenWrapper"],[24,21,3,0],[24,24,3,0,"_interopDefault"],[24,39,3,0],[24,40,3,0,"_ChildrenWrapper"],[24,56,3,0],[25,2,4,0],[25,6,4,0,"_wrapRootComponent"],[25,24,4,0],[25,27,4,0,"require"],[25,34,4,0],[25,35,4,0,"_dependencyMap"],[25,49,4,0],[26,2,4,0],[26,6,4,0,"wrapRootComponent"],[26,23,4,0],[26,26,4,0,"_interopDefault"],[26,41,4,0],[26,42,4,0,"_wrapRootComponent"],[26,60,4,0],[27,2,5,0],[27,6,5,4,"siblingWrapper"],[27,20,5,18],[27,23,5,21,"sibling"],[27,30,5,28],[27,34,5,32,"sibling"],[27,41,5,39],[28,2,6,0],[28,11,6,9,"renderSibling"],[28,24,6,22,"renderSibling"],[28,25,6,23,"sibling"],[28,32,6,30],[28,34,6,32],[29,4,7,4],[29,11,7,11,"siblingWrapper"],[29,25,7,25],[29,26,7,26,"sibling"],[29,33,7,33],[29,34,7,34],[30,2,8,0],[31,2,9,7],[31,11,9,16,"setSiblingWrapper"],[31,28,9,33,"setSiblingWrapper"],[31,29,9,34,"wrapper"],[31,36,9,41],[31,38,9,43],[32,4,10,4,"siblingWrapper"],[32,18,10,18],[32,21,10,21,"wrapper"],[32,28,10,28],[33,2,11,0],[34,2,12,0],[34,8,12,6],[35,4,12,8,"manager"],[35,11,12,15],[35,13,12,17,"defaultManager"],[36,2,12,32],[36,3,12,33],[36,6,12,36],[36,10,12,36,"wrapRootComponent"],[36,27,12,53],[36,28,12,53,"default"],[36,35,12,53],[36,37,12,54,"ChildrenWrapper"],[36,52,12,69],[36,53,12,69,"default"],[36,60,12,69],[36,62,12,71,"renderSibling"],[36,75,12,84],[36,76,12,85],[37,2,13,0],[37,6,13,4,"uuid"],[37,10,13,8],[37,13,13,11],[37,14,13,12],[38,2,14,0],[38,8,14,6,"managerStack"],[38,20,14,18],[38,23,14,21],[38,24,14,22,"defaultManager"],[38,38,14,36],[38,39,14,37],[39,2,15,0],[39,8,15,6,"inactiveManagers"],[39,24,15,22],[39,27,15,25],[39,31,15,29,"Set"],[39,34,15,32],[39,35,15,33],[39,36,15,34],[40,2,16,0],[40,11,16,9,"getActiveManager"],[40,27,16,25,"getActiveManager"],[40,28,16,25],[40,30,16,28],[41,4,17,4],[41,9,17,9],[41,13,17,13,"i"],[41,14,17,14],[41,17,17,17,"managerStack"],[41,29,17,29],[41,30,17,30,"length"],[41,36,17,36],[41,39,17,39],[41,40,17,40],[41,42,17,42,"i"],[41,43,17,43],[41,47,17,47],[41,48,17,48],[41,50,17,50,"i"],[41,51,17,51],[41,53,17,53],[41,55,17,55],[42,6,18,8],[42,12,18,14,"manager"],[42,19,18,21],[42,22,18,24,"managerStack"],[42,34,18,36],[42,35,18,37,"i"],[42,36,18,38],[42,37,18,39],[43,6,19,8],[43,10,19,12],[43,11,19,13,"inactiveManagers"],[43,27,19,29],[43,28,19,30,"has"],[43,31,19,33],[43,32,19,34,"manager"],[43,39,19,41],[43,40,19,42],[43,42,19,44],[44,8,20,12],[44,15,20,19,"manager"],[44,22,20,26],[45,6,21,8],[46,4,22,4],[47,4,23,4],[47,11,23,11,"defaultManager"],[47,25,23,25],[48,2,24,0],[49,2,25,15],[49,8,25,21,"RootSiblingsManager"],[49,27,25,40],[49,28,25,41],[50,4,26,4,"constructor"],[50,15,26,15,"constructor"],[50,16,26,16,"element"],[50,23,26,23],[50,25,26,25,"callback"],[50,33,26,33],[50,35,26,35],[51,6,27,8],[51,10,27,12],[51,11,27,13,"id"],[51,13,27,15],[51,16,27,18],[51,32,27,34,"uuid"],[51,36,27,38],[51,39,27,41],[51,40,27,42],[51,42,27,44],[52,6,28,8],[52,10,28,12],[52,11,28,13,"manager"],[52,18,28,20],[52,21,28,23,"getActiveManager"],[52,37,28,39],[52,38,28,40],[52,39,28,41],[53,6,29,8],[53,10,29,12],[53,11,29,13,"manager"],[53,18,29,20],[53,19,29,21,"update"],[53,25,29,27],[53,26,29,28],[53,30,29,32],[53,31,29,33,"id"],[53,33,29,35],[53,35,29,37,"element"],[53,42,29,44],[53,44,29,46,"callback"],[53,52,29,54],[53,53,29,55],[54,6,30,8,"uuid"],[54,10,30,12],[54,12,30,14],[55,4,31,4],[56,4,32,4,"update"],[56,10,32,10,"update"],[56,11,32,11,"element"],[56,18,32,18],[56,20,32,20,"callback"],[56,28,32,28],[56,30,32,30],[57,6,33,8],[57,10,33,12],[57,11,33,13,"manager"],[57,18,33,20],[57,19,33,21,"update"],[57,25,33,27],[57,26,33,28],[57,30,33,32],[57,31,33,33,"id"],[57,33,33,35],[57,35,33,37,"element"],[57,42,33,44],[57,44,33,46,"callback"],[57,52,33,54],[57,53,33,55],[58,4,34,4],[59,4,35,4,"destroy"],[59,11,35,11,"destroy"],[59,12,35,12,"callback"],[59,20,35,20],[59,22,35,22],[60,6,36,8],[60,10,36,12],[60,11,36,13,"manager"],[60,18,36,20],[60,19,36,21,"destroy"],[60,26,36,28],[60,27,36,29],[60,31,36,33],[60,32,36,34,"id"],[60,34,36,36],[60,36,36,38,"callback"],[60,44,36,46],[60,45,36,47],[61,4,37,4],[62,2,38,0],[63,2,39,7],[63,11,39,16,"RootSiblingParent"],[63,28,39,33,"RootSiblingParent"],[63,29,39,34,"props"],[63,34,39,39],[63,36,39,41],[64,4,40,4],[64,10,40,10],[65,6,40,12,"inactive"],[66,4,40,21],[66,5,40,22],[66,8,40,25,"props"],[66,13,40,30],[67,4,41,4],[67,10,41,10],[67,11,41,11,"sibling"],[67,18,41,18],[67,19,41,19],[67,22,41,22],[67,26,41,22,"useState"],[67,32,41,30],[67,33,41,30,"useState"],[67,41,41,30],[67,43,41,31],[67,49,41,37],[68,6,42,8],[68,12,42,14],[69,8,42,16,"Root"],[69,12,42,20],[69,14,42,22,"parentRoot"],[69,24,42,32],[70,8,42,34,"manager"],[70,15,42,41],[70,17,42,43,"parentManager"],[71,6,42,57],[71,7,42,58],[71,10,42,61],[71,14,42,61,"wrapRootComponent"],[71,31,42,78],[71,32,42,78,"default"],[71,39,42,78],[71,41,42,79,"ChildrenWrapper"],[71,56,42,94],[71,57,42,94,"default"],[71,64,42,94],[71,66,42,96,"renderSibling"],[71,79,42,109],[71,80,42,110],[72,6,43,8,"managerStack"],[72,18,43,20],[72,19,43,21,"push"],[72,23,43,25],[72,24,43,26,"parentManager"],[72,37,43,39],[72,38,43,40],[73,6,44,8],[73,10,44,12,"inactive"],[73,18,44,20],[73,20,44,22],[74,8,45,12,"inactiveManagers"],[74,24,45,28],[74,25,45,29,"add"],[74,28,45,32],[74,29,45,33,"parentManager"],[74,42,45,46],[74,43,45,47],[75,6,46,8],[76,6,47,8],[76,13,47,15],[77,8,48,12,"Root"],[77,12,48,16],[77,14,48,18,"parentRoot"],[77,24,48,28],[78,8,49,12,"manager"],[78,15,49,19],[78,17,49,21,"parentManager"],[79,6,50,8],[79,7,50,9],[80,4,51,4],[80,5,51,5],[80,6,51,6],[81,4,52,4],[81,8,52,4,"useEffect"],[81,14,52,13],[81,15,52,13,"useEffect"],[81,24,52,13],[81,26,52,14],[81,32,52,20],[82,6,53,8],[82,13,53,15],[82,19,53,21],[83,8,54,12],[83,12,54,16,"sibling"],[83,19,54,23],[83,21,54,25],[84,10,55,16],[84,16,55,22,"index"],[84,21,55,27],[84,24,55,30,"managerStack"],[84,36,55,42],[84,37,55,43,"indexOf"],[84,44,55,50],[84,45,55,51,"sibling"],[84,52,55,58],[84,53,55,59,"manager"],[84,60,55,66],[84,61,55,67],[85,10,56,16],[85,14,56,20,"index"],[85,19,56,25],[85,22,56,28],[85,23,56,29],[85,25,56,31],[86,12,57,20,"managerStack"],[86,24,57,32],[86,25,57,33,"splice"],[86,31,57,39],[86,32,57,40,"index"],[86,37,57,45],[86,39,57,47],[86,40,57,48],[86,41,57,49],[87,10,58,16],[88,8,59,12],[89,6,60,8],[89,7,60,9],[90,4,61,4],[90,5,61,5],[90,7,61,7],[90,8,61,8,"sibling"],[90,15,61,15],[90,16,61,16],[90,17,61,17],[91,4,62,4],[91,8,62,8,"inactive"],[91,16,62,16],[91,20,62,20,"sibling"],[91,27,62,27],[91,31,62,31],[91,32,62,32,"inactiveManagers"],[91,48,62,48],[91,49,62,49,"has"],[91,52,62,52],[91,53,62,53,"sibling"],[91,60,62,60],[91,61,62,61,"manager"],[91,68,62,68],[91,69,62,69],[91,71,62,71],[92,6,63,8,"inactiveManagers"],[92,22,63,24],[92,23,63,25,"add"],[92,26,63,28],[92,27,63,29,"sibling"],[92,34,63,36],[92,35,63,37,"manager"],[92,42,63,44],[92,43,63,45],[93,4,64,4],[93,5,64,5],[93,11,65,9],[93,15,65,13],[93,16,65,14,"inactive"],[93,24,65,22],[93,28,65,26,"sibling"],[93,35,65,33],[93,39,65,37,"inactiveManagers"],[93,55,65,53],[93,56,65,54,"has"],[93,59,65,57],[93,60,65,58,"sibling"],[93,67,65,65],[93,68,65,66,"manager"],[93,75,65,73],[93,76,65,74],[93,78,65,76],[94,6,66,8,"inactiveManagers"],[94,22,66,24],[94,23,66,25,"delete"],[94,29,66,31],[94,30,66,32,"sibling"],[94,37,66,39],[94,38,66,40,"manager"],[94,45,66,47],[94,46,66,48],[95,4,67,4],[96,4,68,4],[96,10,68,10,"Parent"],[96,16,68,16],[96,19,68,19,"sibling"],[96,26,68,26],[96,27,68,27,"Root"],[96,31,68,31],[97,4,69,4],[97,11,69,11],[97,15,69,11,"_jsx"],[97,31,69,15],[97,32,69,15,"jsx"],[97,35,69,15],[97,37,69,16,"Parent"],[97,43,69,22],[97,45,69,24],[98,6,69,26,"children"],[98,14,69,34],[98,16,69,36,"props"],[98,21,69,41],[98,22,69,42,"children"],[99,4,69,51],[99,5,69,52],[99,6,69,53],[100,2,70,0],[101,2,71,7],[101,11,71,16,"RootSiblingPortal"],[101,28,71,33,"RootSiblingPortal"],[101,29,71,34,"props"],[101,34,71,39],[101,36,71,41],[102,4,72,4],[102,10,72,10],[102,11,72,11,"sibling"],[102,18,72,18],[102,19,72,19],[102,22,72,22],[102,26,72,22,"useState"],[102,32,72,30],[102,33,72,30,"useState"],[102,41,72,30],[102,43,72,31],[102,49,72,37],[102,53,72,41,"RootSiblingsManager"],[102,72,72,60],[102,73,72,61],[102,77,72,65],[102,78,72,66],[102,79,72,67],[103,4,73,4,"sibling"],[103,11,73,11],[103,12,73,12,"update"],[103,18,73,18],[103,19,73,19,"props"],[103,24,73,24],[103,25,73,25,"children"],[103,33,73,33],[103,34,73,34],[104,4,74,4],[104,8,74,4,"useEffect"],[104,14,74,13],[104,15,74,13,"useEffect"],[104,24,74,13],[104,26,74,14],[104,32,74,20],[105,6,75,8],[105,10,75,12,"sibling"],[105,17,75,19],[105,19,75,21],[106,8,76,12],[106,15,76,19],[106,21,76,25,"sibling"],[106,28,76,32],[106,29,76,33,"destroy"],[106,36,76,40],[106,37,76,41],[106,38,76,42],[107,6,77,8],[108,4,78,4],[108,5,78,5],[108,7,78,7],[108,8,78,8,"sibling"],[108,15,78,15],[108,16,78,16],[108,17,78,17],[109,4,79,4],[109,11,79,11],[109,15,79,15],[110,2,80,0],[111,0,80,1],[111,3]],"functionMap":{"names":["<global>","siblingWrapper","renderSibling","setSiblingWrapper","getActiveManager","RootSiblingsManager","constructor","update","destroy","RootSiblingParent","useState$argument_0","useEffect$argument_0","<anonymous>","RootSiblingPortal"],"mappings":"AAA;qBCI,kBD;AEC;CFE;OGC;CHE;AIK;CJQ;eKC;ICC;KDK;IEC;KFE;IGC;KHE;CLC;OSC;+BCE;KDU;cEC;eCC;SDO;KFC;CTS;OaC;+BHC,mCG;cFE;mBCE,uBD;KEE;CbE"},"hasCjsExports":false},"type":"js/module"}]}